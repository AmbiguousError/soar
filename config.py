# config.py
# Stores all game constants and configuration settings.

import pygame

# --- Screen & Display ---
SCREEN_WIDTH = 1200
SCREEN_HEIGHT = 900
HUD_HEIGHT = 100
MINIMAP_WIDTH = 200
MINIMAP_HEIGHT = 150
MINIMAP_MARGIN = 10
MINIMAP_ALPHA = 200

# --- Glider Physics & Control ---
INITIAL_HEIGHT = 500
INITIAL_SPEED = 3
MIN_SPEED = 1.0
MAX_SPEED = 7
ACCELERATION = 0.12
STALL_SPEED = 1.8
STALL_SINK_PENALTY = 0.25 
GRAVITY_BASE_PULL = 0.22
LIFT_PER_SPEED_UNIT = 0.03
MINIMUM_SINK_RATE = 0.04
DIVE_TO_SPEED_FACTOR = 0.08
ZOOM_CLIMB_FACTOR = 1.8
MAX_BANK_ANGLE = 45
BANK_RATE = 2
BASE_PLAYER_BANK_TO_DEGREES_PER_FRAME = 0.12 
NOOB_TURN_FACTOR = 1.5    
EASY_TURN_FACTOR = 1.2    
NORMAL_TURN_FACTOR = 1.0  
GLIDER_COLLISION_RADIUS = 20

# --- AI Specific ---
NUM_AI_OPPONENTS = 3
AI_TARGET_RACE_ALTITUDE = 450
AI_ALTITUDE_CORRECTION_RATE = 0.2
AI_BASE_SPEED_MIN = 2.5 # Base min speed for AI
AI_BASE_SPEED_MAX = 4.5 # Base max speed for AI
AI_BASE_TURN_RATE_SCALAR = 0.08 # Base turn agility
AI_MARKER_APPROACH_SLOWDOWN_DISTANCE = 200
AI_MARKER_APPROACH_MIN_SPEED_FACTOR = 0.6
AI_TARGET_SPEED_UPDATE_INTERVAL = 120 
AI_SPEED_VARIATION_FACTOR = 0.2 
AI_STRAIGHT_BOOST_THRESHOLD_ANGLE = 15 # Degrees: if angle_diff is less, consider it straight
AI_STRAIGHT_BOOST_MIN_DISTANCE = 400  # World units: min distance to marker for boost

# AI Colors (Body, Wing)
AI_GLIDER_COLORS_LIST = [
    ((250, 180, 180), (255, 200, 200)), # Default Reddish
    ((180, 250, 180), (200, 255, 200)), # Greenish
    ((180, 180, 250), (200, 200, 255)), # Bluish (Player-like, ensure distinct)
    ((250, 250, 180), (255, 255, 200)), # Yellowish
    ((200, 200, 200), (220, 220, 220)), # Grayish
]


# --- Contrail ---
CONTRAIL_LENGTH = 60
CONTRAIL_POINT_DELAY = 2

# --- Thermals ---
BASE_THERMAL_SPAWN_RATE = 100
THERMAL_SPAWN_RATE_INCREASE_PER_LEVEL = 18
NORMAL_MIN_THERMAL_RADIUS = 25
NORMAL_MAX_THERMAL_RADIUS = 60
NORMAL_MIN_THERMAL_LIFESPAN = 450
NORMAL_MAX_THERMAL_LIFESPAN = 1300
MIN_THERMAL_LIFT_POWER = 0.22
MAX_THERMAL_LIFT_POWER = 0.60
NOOB_MIN_THERMAL_RADIUS = 60
NOOB_MAX_THERMAL_RADIUS = 120
NOOB_MIN_THERMAL_LIFESPAN = 900
NOOB_MAX_THERMAL_LIFESPAN = 2200
EASY_MODE_THERMAL_LIFT_MULTIPLIER = 1.75
NOOB_MODE_THERMAL_LIFT_MULTIPLIER = 2.75
THERMAL_SPAWN_AREA_WIDTH = SCREEN_WIDTH + 300
THERMAL_SPAWN_AREA_HEIGHT = SCREEN_HEIGHT + 300
THERMAL_BASE_ALPHA = 100
THERMAL_ACCENT_ALPHA = 120

# --- Map ---
TILE_SIZE = 40
MAP_TILE_OUTLINE_WIDTH = 1
# Biome Thresholds for map generation
DEEP_WATER_THRESH = 0.18
SHALLOW_WATER_THRESH = 0.22
BEACH_THRESH = 0.24
MOUNTAIN_BASE_THRESH = 0.60
MOUNTAIN_PEAK_THRESH = 0.75
DESERT_THRESH = 0.20
GRASSLAND_THRESH = 0.40
TEMPERATE_FOREST_THRESH = 0.65


# --- Race Mode Specific ---
RACE_MARKER_RADIUS_WORLD = 75
RACE_MARKER_VISUAL_RADIUS_MAP = 6
RACE_MARKER_VISUAL_RADIUS_WORLD = 25
DEFAULT_RACE_LAPS = 3
RACE_COURSE_AREA_HALFWIDTH = 2500

# --- Wind ---
MAX_WIND_STRENGTH = 1.0
current_wind_speed_x = 0.0 
current_wind_speed_y = 0.0

# --- Clouds ---
NUM_FOREGROUND_CLOUDS = 15
MIN_CLOUD_SPEED_FACTOR = 1.5
MAX_CLOUD_SPEED_FACTOR = 2.5
CLOUD_MIN_ALPHA = 40
CLOUD_MAX_ALPHA = 100

# --- Game Mechanics ---
TARGET_HEIGHT_PER_LEVEL = 1000
START_HEIGHT_NEW_LEVEL = 250

# --- Height Indicator ---
INDICATOR_WIDTH = 20
INDICATOR_X_MARGIN = 20
INDICATOR_Y_MARGIN_FROM_HUD = 20
VSI_ARROW_SIZE = 8

# --- HUD Font ---
HUD_FONT_NAME = "Consolas" 
HUD_FONT_SIZE_LARGE = 24
HUD_FONT_SIZE_NORMAL = 22
HUD_FONT_SIZE_SMALL = 20


# --- Game States ---
STATE_START_SCREEN = 0
STATE_DIFFICULTY_SELECT = 1
STATE_MODE_SELECT = 2
STATE_PLAYING_FREE_FLY = 3
STATE_TARGET_REACHED_OPTIONS = 4
STATE_TARGET_REACHED_CONTINUE_PLAYING = 5
STATE_POST_GOAL_MENU = 6
STATE_RACE_LAPS_SELECT = 7
STATE_RACE_PLAYING = 8
STATE_RACE_COMPLETE = 9
STATE_GAME_OVER = 10
STATE_PAUSED = 11

# --- Game Difficulty ---
DIFFICULTY_NOOB = 0
DIFFICULTY_EASY = 1
DIFFICULTY_NORMAL = 2
difficulty_options_map = {0: "N00b", 1: "Easy", 2: "Normal"}
game_difficulty = DIFFICULTY_NORMAL 


# --- Game Mode ---
MODE_FREE_FLY = 0
MODE_RACE = 1
current_game_mode = MODE_FREE_FLY 

# --- Pastel Colors ---
PASTEL_BLACK = (50, 50, 60)
PASTEL_WHITE = (245, 245, 250)
PASTEL_DARK_GRAY = (180, 180, 190)
PASTEL_GRAY = (200, 200, 210)
PASTEL_LIGHT_GRAY = (230, 230, 240)
PASTEL_RED = (255, 150, 150)
PASTEL_GREEN_TARGET = (173, 255, 173) 
PASTEL_GOLD = (255, 230, 150) 
PASTEL_CLOUD = (235, 240, 245)
PASTEL_HUD_PANEL = (190, 200, 210, 180)
PASTEL_MINIMAP_BACKGROUND = (170, 180, 190, MINIMAP_ALPHA)
PASTEL_MINIMAP_BORDER = (140, 150, 160)
PASTEL_MARKER_COLOR = (255, 170, 170) 
PASTEL_ACTIVE_MARKER_COLOR = PASTEL_GREEN_TARGET 
PASTEL_WATER_DEEP = (190, 220, 240)
PASTEL_WATER_SHALLOW = (210, 235, 250)
PASTEL_PLAINS = (200, 240, 200)
PASTEL_GRASSLAND = (190, 250, 190)
PASTEL_FOREST_TEMPERATE = (180, 220, 180)
PASTEL_FOREST_DENSE = (160, 200, 160)
PASTEL_MOUNTAIN_BASE = (210, 210, 200)
PASTEL_MOUNTAIN_PEAK = (235, 235, 240)
PASTEL_SAND_BEACH = (250, 240, 210)
PASTEL_SAND_DESERT = (245, 230, 200)
PASTEL_RIVER = (200, 225, 250)
PASTEL_GLIDER_BODY = (180, 180, 250) # Player default
PASTEL_GLIDER_WING = (200, 200, 255) # Player default
# AI_GLIDER_BODY and AI_GLIDER_WING are now superseded by AI_GLIDER_COLORS_LIST
PASTEL_THERMAL_PRIMARY = (255, 200, 200)
PASTEL_THERMAL_ACCENT = PASTEL_WHITE
PASTEL_INDICATOR_COLOR = (150, 160, 170)
PASTEL_INDICATOR_GROUND = (200, 190, 180)
PASTEL_VSI_CLIMB = (173, 255, 173)
PASTEL_VSI_SINK = (255, 170, 170)
PASTEL_TEXT_COLOR_HUD = (70, 70, 80)
PASTEL_CONTRAIL_COLOR = PASTEL_TEXT_COLOR_HUD
MAP_TILE_OUTLINE_COLOR = (215, 220, 225)

# --- Land Types ---
LAND_TYPE_WATER_DEEP = 0
LAND_TYPE_WATER_SHALLOW = 1
LAND_TYPE_PLAINS = 2
LAND_TYPE_FOREST_TEMPERATE = 3
LAND_TYPE_MOUNTAIN_BASE = 4
LAND_TYPE_SAND_DESERT = 5
LAND_TYPE_MOUNTAIN_PEAK = 6
LAND_TYPE_RIVER = 7
LAND_TYPE_FOREST_DENSE = 8
LAND_TYPE_GRASSLAND = 9
LAND_TYPE_SAND_BEACH = 10

LAND_TYPE_COLORS = {
    LAND_TYPE_WATER_DEEP: PASTEL_WATER_DEEP, LAND_TYPE_WATER_SHALLOW: PASTEL_WATER_SHALLOW,
    LAND_TYPE_PLAINS: PASTEL_PLAINS, LAND_TYPE_GRASSLAND: PASTEL_GRASSLAND,
    LAND_TYPE_FOREST_TEMPERATE: PASTEL_FOREST_TEMPERATE, LAND_TYPE_FOREST_DENSE: PASTEL_FOREST_DENSE,
    LAND_TYPE_MOUNTAIN_BASE: PASTEL_MOUNTAIN_BASE, LAND_TYPE_MOUNTAIN_PEAK: PASTEL_MOUNTAIN_PEAK,
    LAND_TYPE_SAND_DESERT: PASTEL_SAND_DESERT, LAND_TYPE_SAND_BEACH: PASTEL_SAND_BEACH,
    LAND_TYPE_RIVER: PASTEL_RIVER,
}
LAND_TYPE_THERMAL_PROBABILITY = {
    LAND_TYPE_WATER_DEEP: 0.00, LAND_TYPE_WATER_SHALLOW: 0.01,
    LAND_TYPE_PLAINS: 0.6, LAND_TYPE_GRASSLAND: 0.7,
    LAND_TYPE_FOREST_TEMPERATE: 0.3, LAND_TYPE_FOREST_DENSE: 0.1,
    LAND_TYPE_MOUNTAIN_BASE: 0.5, LAND_TYPE_MOUNTAIN_PEAK: 0.05,
    LAND_TYPE_SAND_DESERT: 0.9, LAND_TYPE_SAND_BEACH: 0.8,
    LAND_TYPE_RIVER: 0.02,
}

# Map Generation Noise Parameters
ELEVATION_CONTINENT_SCALE = 60.0
ELEVATION_MOUNTAIN_SCALE = 15.0
ELEVATION_HILL_SCALE = 5.0       
MOISTURE_PRIMARY_SCALE = 40.0
MOISTURE_SECONDARY_SCALE = 10.0
P_CONT = (73856093, 19349663)
P_MNT = (83492791, 52084219)
P_HILL = (39119077, 66826529)
P_MOIST_P = (23109781, 92953093)
P_MOIST_S = (47834583, 11634271)
NUM_MAJOR_RIVERS = 3
 